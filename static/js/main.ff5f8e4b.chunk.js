(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(262)},261:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(115),s=a.n(o),i=a(5),l=a(6),c=a(8),m=a(7),u=a(9),A=function(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Job"),r.a.createElement("th",null,"Remove")))},d=function(e){var t=e.characterData.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.job),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.removeCharacter(a)}},"Delete")))});return r.a.createElement("tbody",null,t)},h=(n.Component,a(116)),p=(n.Component,a(23)),f=a(18);n.Component,n.Component,n.Component,a(117);function g(e){return e.text().then(function(t){console.log("handle-response.js handling response...");var a=t&&JSON.parse(t);if(!e.ok){-1!==[401,403].indexOf(e.status)&&(w.logout(),window.location.reload(!0));var n=a&&a.message||e.statusText;return Promise.reject(n)}return a})}var b=new(a(264).a)(JSON.parse(localStorage.getItem("currentUser"))),w={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return console.log("authenticationService.js  within login method..."),fetch("http://localhost:4000/users/authenticate",a).then(g).then(function(e){return console.log("authenticationService.js  about to set up localstorage..."),localStorage.setItem("currentUser",JSON.stringify(e)),b.next(e),e})},logout:function(){localStorage.removeItem("currentUser"),b.next(null)},currentUser:b.asObservable(),get currentUserValue(){return b.value}};var E=w,j=a(24),v=a(50),y=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),w.currentUserValue&&a.props.history.push("/"),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"alert alert-info"},"Username: test",r.a.createElement("br",null),"Password: test"),r.a.createElement("h2",null,"Login"),r.a.createElement(j.d,{initialValues:{username:"",password:""},validationSchema:v.object().shape({username:v.string().required("Username is required"),password:v.string().required("Password is required")}),onSubmit:function(t,a){var n=t.username,r=t.password,o=a.setStatus,s=a.setSubmitting;console.log("in LoginPage.js, onsubmit..."),o(),w.login(n,r).then(function(t){var a=(e.props.location.state||{from:{pathname:"/"}}).from;e.props.history.push(a)},function(e){s(!1),o(e)}),console.log("in LoginPage.js, onsubmit  authenticationservice login method is called!!")},render:function(e){var t=e.errors,a=(e.status,e.touched),n=e.isSubmitting;return r.a.createElement(j.c,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(j.b,{name:"username",type:"text",className:"form-control"+(t.username&&a.username?" is-invalid":"")}),r.a.createElement(j.a,{name:"username",component:"div",className:"invalid-feedback"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(j.b,{name:"password",type:"password",className:"form-control"+(t.password&&a.password?" is-invalid":"")}),r.a.createElement(j.a,{name:"password",component:"div",className:"invalid-feedback"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:n},"Login"),n&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="})))}}))}}]),t}(r.a.Component),k=a(10),x=Object(k.a)();function _(){var e=w.currentUserValue;return e&&e.token?{Authorization:"Bearer ".concat(e.token)}:{}}var C={getAll:function(){var e={method:"GET",headers:_()};return fetch("http://localhost:4000/users/authenticate/users",e).then(g)}};r.a.Component;var O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={currentUser:null},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("App.js: showing the message in componentDiDMount"),E.currentUser.subscribe(function(t){return e.setState({currentUser:t})}),console.log("App.js: showing the message in componentDiDMount after call authenticationService")}},{key:"logout",value:function(){console.log("App.js: logout clicked!"),E.logout(),x.push("/login")}},{key:"render",value:function(){this.state.currentUser;return r.a.createElement(p.c,null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement("div",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement("h1",null,"Simple SPA"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement("ul",{className:"header"},r.a.createElement("li",null,r.a.createElement(f.a,{exact:!0,to:"/"},"UserInfo")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/home"},"Home")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/stuff"},"Stuff")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/contact"},"Contact")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/dtapp"},"DesignTime")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/monitor"},"Monitor")),r.a.createElement("li",null,r.a.createElement("a",{onClick:this.logout,className:"nav-item nav-link"},"Logout")),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement("div",{className:"content"},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(p.b,{path:"/login",component:y}),r.a.createElement("h3",null,"This is just a test"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"))}}]),t}(n.Component);a(261);!function(){console.log("fake-backend.js: showing the console message");var e=[{id:1,username:"test",password:"test",firstName:"Test",lastName:"User"}],t=[{id:1,appname:"test1",creator:"Billy",uploadtime:"2019-03-01T13:51:50"},{id:2,appname:"test2",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:3,appname:"test3",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:4,appname:"test4",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:5,appname:"test5",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:6,appname:"test6",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:7,appname:"test7",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:8,appname:"test8",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:9,appname:"test9",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"}],a={datasetForRect:[{x:568,y:185,width:25,height:25,x_job_name:580,y_job_name:230,job_name:"~~~~_job2"},{x:488,y:185,width:25,height:25,x_job_name:500,y_job_name:230,job_name:"~~~~_job1"},{x:408,y:185,width:25,height:25,x_job_name:420,y_job_name:230,job_name:"~~~~_job4"},{x:528,y:345,width:25,height:25,x_job_name:540,y_job_name:390,job_name:"~~~~_job3"},{x:488,y:25,width:25,height:25,x_job_name:500,y_job_name:70,job_name:"~~~~_start"},{x:408,y:345,width:25,height:25,x_job_name:420,y_job_name:390,job_name:"~~~~_job5"},{x:488,y:505,width:25,height:25,x_job_name:500,y_job_name:550,job_name:"~~~~_end"}],datasetForLine:[{x1:500,y1:210,x2:540,y2:342,hasArrow:"A"},{x1:500,y1:50,x2:420,y2:182,hasArrow:"A"},{x1:580,y1:210,x2:540,y2:342,hasArrow:"A"},{x1:420,y1:210,x2:420,y2:342,hasArrow:"A"},{x1:500,y1:50,x2:580,y2:182,hasArrow:"A"},{x1:500,y1:50,x2:500,y2:182,hasArrow:"A"},{x1:540,y1:370,x2:500,y2:502,hasArrow:"A"},{x1:420,y1:370,x2:500,y2:502,hasArrow:"A"}]},n=window.fetch;window.fetch=function(r,o){console.log("fake-backend.js   within redefined fetch first line...");var s="Bearer fake-jwt-token"===o.headers.Authorization;return console.log("fake-backend.js   within redefined fetch method before return Promise..."),new Promise(function(i,l){console.log("fake-backend.js redefining fetch method..."),setTimeout(function(){if(r.endsWith("/users/authenticate")&&"POST"===o.method){var l=JSON.parse(o.body),c=e.find(function(e){return e.username===l.username&&e.password===l.password});return c?u({id:c.id,username:c.username,firstName:c.firstName,lastName:c.lastName,token:"fake-jwt-token"}):(m="Username or password is incorrect",void i({status:400,text:function(){return Promise.resolve(JSON.stringify({message:m}))}}))}var m;if(r.endsWith("/users")&&"GET"===o.method)return s?u(e):A();if(r.endsWith("/dtapplications")&&"GET"===o.method)return s?u(t):A();if(console.log("fake-backend.js  before url endup check, url is:"+r+" opts method:"+o.method),r.endsWith("/createdtapp")&&"POST"===o.method)return s?u({id:100,appname:"fake_created_appname",creator:"fakecreator"}):A();if(r.endsWith("/deletedtapp")&&"GET"===o.method)return s?u({id:100,appname:"fake_deleted_appname",creator:"fake_deleted_creator"}):A();if(r.endsWith("/updatedtapp")&&"POST"===o.method)return s?u(JSON.parse(o.body)):A();if(r.endsWith("/triggerapp")&&"POST"===o.method)return s?u(JSON.parse(o.body)):A();if(r.endsWith("/rtappinfo")&&"GET"===o.method)return console.log("fake-backend.js   within redefined fetch method for rtappinfo..."),s?u(a):A();function u(e){i({ok:!0,text:function(){return Promise.resolve(JSON.stringify(e))}})}function A(){i({status:401,text:function(){return Promise.resolve(JSON.stringify({message:"Unauthorised"}))}})}console.log("fake-backend.js  did not catch the url is:"+r),n(r,o).then(function(e){return i(e)})},500)})}}(),s.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.ff5f8e4b.chunk.js.map