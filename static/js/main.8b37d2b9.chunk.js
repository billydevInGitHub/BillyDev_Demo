(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,n){e.exports=n(260)},259:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(112),i=n.n(r),s=n(4),c=n(5),l=n(7),u=n(6),m=n(8),d=function(){return o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Job"),o.a.createElement("th",null,"Remove")))},h=function(e){var t=e.characterData.map(function(t,n){return o.a.createElement("tr",{key:n},o.a.createElement("td",null,t.name),o.a.createElement("td",null,t.job),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return e.removeCharacter(n)}},"Delete")))});return o.a.createElement("tbody",null,t)},p=(a.Component,n(113)),f=(a.Component,n(263));a.Component,a.Component,a.Component,n(114);function b(e){return e.text().then(function(t){console.log("handle-response.js handling response...");var n=t&&JSON.parse(t);if(!e.ok){-1!==[401,403].indexOf(e.status)&&(j.logout(),window.location.reload(!0));var a=n&&n.message||e.statusText;return Promise.reject(a)}return n})}var g=new(n(262).a)(JSON.parse(localStorage.getItem("currentUser"))),j={login:function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return console.log("authenticationService.js  within login method..."),fetch("http://localhost:4000/users/authenticate",n).then(b).then(function(e){return console.log("authenticationService.js  about to set up localstorage..."),localStorage.setItem("currentUser",JSON.stringify(e)),g.next(e),e})},logout:function(){localStorage.removeItem("currentUser"),g.next(null)},currentUser:g.asObservable(),get currentUserValue(){return g.value}};var y=j,_=n(20),v=n(47),w=(o.a.Component,n(14)),x=Object(w.a)();function k(){var e=j.currentUserValue;return e&&e.token?{Authorization:"Bearer ".concat(e.token)}:{}}var E={getAll:function(){var e={method:"GET",headers:k()};return fetch("http://localhost:4000/users/authenticate/users",e).then(b)}};o.a.Component;var S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={currentUser:null},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("App.js: showing the message in componentDiDMount"),y.currentUser.subscribe(function(t){return e.setState({currentUser:t})}),console.log("App.js: showing the message in componentDiDMount after call authenticationService")}},{key:"logout",value:function(){y.logout(),x.push("/login")}},{key:"render",value:function(){var e=this.state.currentUser;return o.a.createElement(f.c,{history:x},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",o.a.createElement("div",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",o.a.createElement("h1",null,"Simple SPA"),e&&o.a.createElement("ul",{className:"header"},o.a.createElement("li",null,o.a.createElement("a",{onClick:this.logout,className:"nav-item nav-link"},"Logout")),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",o.a.createElement("div",{className:"content"},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0","\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"))}}]),t}(a.Component);n(259);!function(){console.log("fake-backend.js: showing the console message");var e=[{id:1,username:"test",password:"test",firstName:"Test",lastName:"User"}],t=[{id:1,appname:"test1",creator:"Billy",uploadtime:"2019-03-01T13:51:50"},{id:2,appname:"test2",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:3,appname:"test3",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:4,appname:"test4",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:5,appname:"test5",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:6,appname:"test6",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:7,appname:"test7",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:8,appname:"test8",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"},{id:9,appname:"test9",creator:"Flavio",uploadtime:"2019-03-06T13:51:50"}],n={datasetForRect:[{x:568,y:185,width:25,height:25,x_job_name:580,y_job_name:230,job_name:"~~~~_job2"},{x:488,y:185,width:25,height:25,x_job_name:500,y_job_name:230,job_name:"~~~~_job1"},{x:408,y:185,width:25,height:25,x_job_name:420,y_job_name:230,job_name:"~~~~_job4"},{x:528,y:345,width:25,height:25,x_job_name:540,y_job_name:390,job_name:"~~~~_job3"},{x:488,y:25,width:25,height:25,x_job_name:500,y_job_name:70,job_name:"~~~~_start"},{x:408,y:345,width:25,height:25,x_job_name:420,y_job_name:390,job_name:"~~~~_job5"},{x:488,y:505,width:25,height:25,x_job_name:500,y_job_name:550,job_name:"~~~~_end"}],datasetForLine:[{x1:500,y1:210,x2:540,y2:342,hasArrow:"A"},{x1:500,y1:50,x2:420,y2:182,hasArrow:"A"},{x1:580,y1:210,x2:540,y2:342,hasArrow:"A"},{x1:420,y1:210,x2:420,y2:342,hasArrow:"A"},{x1:500,y1:50,x2:580,y2:182,hasArrow:"A"},{x1:500,y1:50,x2:500,y2:182,hasArrow:"A"},{x1:540,y1:370,x2:500,y2:502,hasArrow:"A"},{x1:420,y1:370,x2:500,y2:502,hasArrow:"A"}]},a=window.fetch;window.fetch=function(o,r){console.log("fake-backend.js   within redefined fetch first line...");var i="Bearer fake-jwt-token"===r.headers.Authorization;return console.log("fake-backend.js   within redefined fetch method before return Promise..."),new Promise(function(s,c){console.log("fake-backend.js redefining fetch method..."),setTimeout(function(){if(o.endsWith("/users/authenticate")&&"POST"===r.method){var c=JSON.parse(r.body),l=e.find(function(e){return e.username===c.username&&e.password===c.password});return l?m({id:l.id,username:l.username,firstName:l.firstName,lastName:l.lastName,token:"fake-jwt-token"}):(u="Username or password is incorrect",void s({status:400,text:function(){return Promise.resolve(JSON.stringify({message:u}))}}))}var u;if(o.endsWith("/users")&&"GET"===r.method)return i?m(e):d();if(o.endsWith("/dtapplications")&&"GET"===r.method)return i?m(t):d();if(console.log("fake-backend.js  before url endup check, url is:"+o+" opts method:"+r.method),o.endsWith("/createdtapp")&&"POST"===r.method)return i?m({id:100,appname:"fake_created_appname",creator:"fakecreator"}):d();if(o.endsWith("/deletedtapp")&&"GET"===r.method)return i?m({id:100,appname:"fake_deleted_appname",creator:"fake_deleted_creator"}):d();if(o.endsWith("/updatedtapp")&&"POST"===r.method)return i?m(JSON.parse(r.body)):d();if(o.endsWith("/triggerapp")&&"POST"===r.method)return i?m(JSON.parse(r.body)):d();if(o.endsWith("/rtappinfo")&&"GET"===r.method)return console.log("fake-backend.js   within redefined fetch method for rtappinfo..."),i?m(n):d();function m(e){s({ok:!0,text:function(){return Promise.resolve(JSON.stringify(e))}})}function d(){s({status:401,text:function(){return Promise.resolve(JSON.stringify({message:"Unauthorised"}))}})}console.log("fake-backend.js  did not catch the url is:"+o),a(o,r).then(function(e){return s(e)})},500)})}}(),i.a.render(o.a.createElement(S,null),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.8b37d2b9.chunk.js.map